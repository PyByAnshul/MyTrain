{% extends 'index.html'%} {% block content%}


</div>
<link rel="stylesheet" href="{{ url_for('static', filename='css/finder.css') }}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<form action="" method="post" class="form" id="searchtrain">
    <div class="searchBox">
        <div class="searchFrom finderItem search-input wrapper">
            <p class="searchTitle">ORIGIN</p>
            <a href="" target="_blank" hidden></a>
            {% if fromDest %}
            <input type="text" name="fromDest" id="fromDest" placeholder="Enter Start Destination" autocomplete="off" value="{{ fromDest }}">
            {% else %}
            <input type="text" name="fromDest" id="fromDest" placeholder="Enter Start Destination" autocomplete="off">
            {% endif %}

            <div class="autocom-box">
                <!-- here list are inserted from javascript -->
            </div>
        </div>
        <div class="searchFrom finderItem search-input1 wrapper2">
            <p class="searchTitle">DESTINATION</p>
            <a href="" target="_blank" hidden></a>
            {% if toDest %}
            
            <input type="text" name="toDest" id="toDest" placeholder="Enter End Destination" autocomplete="off" value="{{ toDest }}">
            {% else %}
            <input type="text" name="toDest" id="toDest" placeholder="Enter End Destination" autocomplete="off">
            {% endif %}
            <div class="autocom-box1">
                <!-- here list are inserted from javascript -->
            </div>
        </div>
        <div class="searchDate searchFrom search-input finderItem">
            <p class="searchTitle">DEPART DATE</p>
            <input type="date" name="destDate" id="toDate" placeholder="Select Date">
        </div>
        <div class="finderItem search-input">
            <button type="submit" id="submitbtn" class="searchBtn">Submit</button>
        </div>
    </div>
</form>

<div id="wrapper">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: rgba(253, 253, 253, 0.33); display: block; shape-rendering: auto;" width="120px" height="120px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
        <path d="M10 50A40 40 0 0 0 90 50A40 42 0 0 1 10 50" fill="#1d3f72" stroke="none">
          <animateTransform attributeName="transform" type="rotate" dur="1s" repeatCount="indefinite" keyTimes="0;1" values="0 50 51;360 50 51"></animateTransform>
        </path>
        <!-- [ldio] generated by https://loading.io/ -->
    </svg>
</div>
<div class="searchResultBox">
    <!-- <div class="table" id="table" style="display: block;">
        
        <div class="table" id="table">

        <div class="thead">
            <div class="tr">
                <p>Sr.no</p>
                <p>Train Name/Train No.</p>
                <p>Departure Time</p>
                <p>Arrival Time</p>
                <p>Live Location</p>
                <p>Book Ticket</p>
            </div>
        </div>
        <br>
        <div class="tbody">
            {% if data %}
            {% for i in data %}
            <div class="tr dataTableRow">
                <p>{{ loop.index }}</p>
                <p>{{i["train_name"]}}/{{i["train_number"]}}</p>
                <p>{{i['from_sta']}}</p>
                <p>{{i['to_std']}}</p>
                <a href="/train_finder/{{i['train_number']}}"><button class="searchBtn">view</button></a>
                <a href="/book_ticket/?train_no={{i['train_number']}}&start_from={{fromDest}}&end_from={{toDest}}"><button class="searchBtn">view</button></a>
            </div>
            {% endfor %}
            {% endif %}
        </div>

    </div> -->
    <div class="modern-table-wrapper">
        <table class="modern-table">
            <thead>
                <tr>
                    <th>#</th>
                    <th><i class="fas fa-train"></i> Train Details</th>
                    <th><i class="fas fa-clock"></i> Departure</th>
                    <th><i class="fas fa-clock"></i> Arrival</th>
                    <th><i class="fas fa-map-marker-alt"></i> Live Status</th>
                    <th><i class="fas fa-ticket-alt"></i> Book Now</th>
                </tr>
            </thead>
            <tbody>
                {% if data %}
                {% for i in data %}
                <tr class="table-row">
                    <td class="serial-number">{{ loop.index }}</td>
                    <td class="train-info">
                        <div class="train-name">{{i["train_name"]}}</div>
                        <div class="train-number">#{{i["train_number"]}}</div>
                    </td>
                    <td class="time-info">{{i['from_sta']}}</td>
                    <td class="time-info">{{i['to_std']}}</td>
                    <td class="action-cell">
                        <a href="/trains/train_finder/?train_no={{i['train_number']}}&start_from={{fromDest}}&end_from={{toDest}}" class="btn-action btn-track">
                            <i class="fas fa-eye"></i> Track
                        </a>
                    </td>
                    <td class="action-cell">
                        <a href="/booking/book_ticket/?train_no={{i['train_number']}}&start_from={{fromDest}}&end_from={{toDest}}" class="btn-action btn-book">
                            <i class="fas fa-ticket-alt"></i> Book
                        </a>
                    </td>
                </tr>
                {% endfor %}
                {% endif %}
            </tbody>
        </table>
    </div>
</div>
<style>
.modern-table-wrapper {
    position: absolute;
    top: 40%;
    width: 95%;
    max-width: 1200px;
    margin: 0 auto;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(255, 255, 255, 0.95);
    border-radius: 15px;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    backdrop-filter: blur(10px);
}

.modern-table {
    width: 100%;
    border-collapse: collapse;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

.modern-table thead {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
}

.modern-table th {
    padding: 20px 15px;
    text-align: left;
    font-weight: 600;
    font-size: 14px;
    text-transform: uppercase;
    letter-spacing: 1px;
    border: none;
}

.modern-table th i {
    margin-right: 8px;
    opacity: 0.8;
}

.modern-table tbody tr {
    transition: all 0.3s ease;
    border-bottom: 1px solid #f0f0f0;
}

.modern-table tbody tr:hover {
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}

.modern-table td {
    padding: 18px 15px;
    border: none;
    font-size: 14px;
    color: #333;
}

.serial-number {
    font-weight: bold;
    color: #667eea;
    font-size: 16px;
    text-align: center;
    width: 60px;
}

.train-info {
    min-width: 200px;
}

.train-name {
    font-weight: 600;
    color: #2c3e50;
    font-size: 15px;
    margin-bottom: 4px;
}

.train-number {
    color: #7f8c8d;
    font-size: 12px;
    font-weight: 500;
}

.time-info {
    font-weight: 600;
    color: #34495e;
    font-size: 14px;
    text-align: center;
}

.action-cell {
    text-align: center;
    padding: 15px;
}

.btn-action {
    display: inline-flex;
    align-items: center;
    padding: 10px 16px;
    border-radius: 25px;
    text-decoration: none;
    font-weight: 600;
    font-size: 12px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    transition: all 0.3s ease;
    border: 2px solid transparent;
    min-width: 80px;
    justify-content: center;
}

.btn-action i {
    margin-right: 6px;
    font-size: 11px;
}

.btn-track {
    background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
    color: white;
}

.btn-track:hover {
    background: linear-gradient(135deg, #0984e3 0%, #74b9ff 100%);
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(116, 185, 255, 0.4);
    color: white;
}

.btn-book {
    background: linear-gradient(135deg, #00b894 0%, #00a085 100%);
    color: white;
}

.btn-book:hover {
    background: linear-gradient(135deg, #00a085 0%, #00b894 100%);
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(0, 184, 148, 0.4);
    color: white;
}

@media (max-width: 768px) {
    .modern-table-wrapper {
        width: 98%;
        top: 35%;
    }
    
    .modern-table th,
    .modern-table td {
        padding: 12px 8px;
        font-size: 12px;
    }
    
    .train-info {
        min-width: 150px;
    }
    
    .btn-action {
        padding: 8px 12px;
        font-size: 10px;
        min-width: 60px;
    }
    
    .modern-table th:nth-child(4),
    .modern-table td:nth-child(4) {
        display: none;
    }
}

@media (max-width: 480px) {
    .modern-table th:nth-child(3),
    .modern-table td:nth-child(3) {
        display: none;
    }
}
</style>

<script src="{{ url_for('static', filename='js/stations.js') }}"></script>
<script src="{{ url_for('static', filename='js/searchtrain.js') }}"></script>
<script src="{{ url_for('static', filename='js/destination.js') }}"></script>
<script src="{{ url_for('static', filename='js/searchtrainform.js') }}"></script>





{%endblock%}