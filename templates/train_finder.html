{% extends 'index.html'%} {% block content%}


<div class="bg_image" style="background-image: url({{url_for('static',filename = 'images/train_finder.jpg')}});">
</div>
<link rel="stylesheet" href="{{ url_for('static', filename='css/finder.css') }}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<form action="" method="post" class="form" id="searchtrain">
    <div class="searchBox">
        <div class="searchFrom finderItem search-input wrapper">
            <p class="searchTitle">ORIGIN</p>
            <a href="" target="_blank" hidden></a>
            {% if fromDest %}
            <input type="text" name="fromDest" id="fromDest" placeholder="Enter Start Destination" autocomplete="off" value="{{ fromDest }}">
            {% else %}
            <input type="text" name="fromDest" id="fromDest" placeholder="Enter Start Destination" autocomplete="off">
            {% endif %}

            <div class="autocom-box">
                <!-- here list are inserted from javascript -->
            </div>
        </div>
        <div class="searchFrom finderItem search-input1 wrapper2">
            <p class="searchTitle">DESTINATION</p>
            <a href="" target="_blank" hidden></a>
            {% if toDest %}
            
            <input type="text" name="toDest" id="toDest" placeholder="Enter End Destination" autocomplete="off" value="{{ toDest }}">
            {% else %}
            <input type="text" name="toDest" id="toDest" placeholder="Enter End Destination" autocomplete="off">
            {% endif %}
            <div class="autocom-box1">
                <!-- here list are inserted from javascript -->
            </div>
        </div>
        <div class="searchDate searchFrom search-input finderItem">
            <p class="searchTitle">DEPART DATE</p>
            <input type="date" name="destDate" id="toDate" placeholder="Select Date">
        </div>
        <div class="finderItem search-input">
            <button type="submit" id="submitbtn" class="searchBtn">Submit</button>
        </div>
    </div>
</form>

<div id="wrapper">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: rgba(253, 253, 253, 0.33); display: block; shape-rendering: auto;" width="120px" height="120px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
        <path d="M10 50A40 40 0 0 0 90 50A40 42 0 0 1 10 50" fill="#1d3f72" stroke="none">
          <animateTransform attributeName="transform" type="rotate" dur="1s" repeatCount="indefinite" keyTimes="0;1" values="0 50 51;360 50 51"></animateTransform>
        </path>
        <!-- [ldio] generated by https://loading.io/ -->
    </svg>
</div>
<div class="searchResultBox">
    {% if data %}
    <div class="table" id="table" style="display: block;">
        {% else %}
        <div class="table" id="table">
        {% endif %}
        <div class="thead">
            <div class="tr">
                <p>Sr.no</p>
                <p>Train Name/Train No.</p>
                <p>DEPARTURE TIME</p>
                <p>ARRIVE TIME</p>
                <p>View</p>
            </div>
        </div>
        <br>
        <div class="tbody">
            {% if data %}
            {% for i in data %}
            <div class="tr dataTableRow">
                <p>{{ loop.index }}</p>
                <p>{{i["train_name"]}}/{{i["train_number"]}}</p>
                <p>{{i['from_sta']}}</p>
                <p>{{i['to_std']}}</p>
                <a href="/train_finder/{{i['train_number']}}"><button class="searchBtn">view</button></a>
            </div>
            {% endfor %}
            {% endif %}
        </div>
    </div>
    <br>
</div>
<style>
@import "npm/bootstrap@4.4.1/scss/vendor/_tables.scss";

// Override styles for .table-responsive

    .tbody .searchBtn {
    padding: 18px 40px;
    font-size: 14px;
    color: white;
    font-weight: 600;
    border: none;
    outline: none;
    border-radius: 1px;
    background-color: black;
    width: 200px;
}
.table-responsive{
    display:flex;
}
</style>
<script src="{{ url_for('static', filename='js/stations.js') }}"></script>
<script src="{{ url_for('static', filename='js/searchtrain.js') }}"></script>
<script src="{{ url_for('static', filename='js/destination.js') }}"></script>
<script src="{{ url_for('static', filename='js/searchtrainform.js') }}"></script>





{%endblock%}